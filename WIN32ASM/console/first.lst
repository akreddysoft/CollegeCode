Microsoft (R) Macro Assembler Version 6.14.8444		    01/04/04 23:22:08
F:\programs\WIN32ASM\console\first.asm			     Page 1 - 1


				.386
				.model flat, stdcall
				option casemap:none

				;includes-------------------------
				.nolist
				.listall
				includelib kernel32.lib
				includelib user32.lib

				;---------data--------------------

 00000000			.data
 00000000 48 65 6C 6C 6F	msg db "Hello world!", 0ah  ;doesn't have to be zero-
	   20 77 6F 72 6C
	   64 21 0A
				                                         ;terminated...you'll find out
				                                         ;why

				;--uninitialized------------------
 00000000			.data?
 00000000 00000000		stdout  dd ?
 00000004 00000000		cWritten dd ?

				;--------------code--------------
 00000000			.code
 00000000			start:
 00000000
				 invoke GetStdHandle, STD_OUTPUT_HANDLE
 00000000  6A F5	   *	    push    -00000000Bh
 00000002  E8 00000000 E   *	    call   GetStdHandle
 00000007  A3 00000000 R	 mov stdout, eax

				 invoke WriteConsole, stdout, ADDR msg, sizeof msg, \
				    ADDR cWritten, NULL
 0000000C  6A 00	   *	    push   +000000000h
 0000000E  68 00000004 R   *	    push   OFFSET cWritten
 00000013  6A 0D	   *	    push   +00000000Dh
 00000015  68 00000000 R   *	    push   OFFSET msg
 0000001A  FF 35 00000000 R *	    push   stdout
 00000020  E8 00000000 E   *	    call   WriteConsoleA
				 invoke WriteConsole, stdout, ADDR msg, sizeof msg,  \
				    ADDR cWritten, NULL
 00000025  6A 00	   *	    push   +000000000h
 00000027  68 00000004 R   *	    push   OFFSET cWritten
 0000002C  6A 0D	   *	    push   +00000000Dh
 0000002E  68 00000000 R   *	    push   OFFSET msg
 00000033  FF 35 00000000 R *	    push   stdout
 00000039  E8 00000000 E   *	    call   WriteConsoleA
				invoke	StdOut,f
F:\programs\WIN32ASM\console\first.asm(37) : error A2006: undefined symbol : StdOut
 0000003E  C3			 ret
 0000003F			end start
