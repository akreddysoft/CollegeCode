;FIFTH SERIES OF CONCEPT
;FOCUSSES ON THE DOUBTS ABOUT LEA,OFFSET
TITLE SETCURSOR1

.MODEL SMALL
.386
.STACK
.DATA
A1	DW 5678H
A2	DW 8967H
DATE DB 'wHAT IS THE DATE(DD/MM/YY)?$'
A3	DB 04H
ITEMA DW 1234H
;ITEMB DW 4555H
.CODE
START :
MOV AX,@DATA
MOV DS,AX

MOV 	AX,ITEMA
MOV 	BH,BYTE PTR [ITEMA]     ;THIS ONE IS SAME AS ABOVE STATEMENT,DONT NO WHY
MOV 	CX,OFFSET ITEMA
LEA	DX,ITEMA
XOR	DX,DX
MOV	DX,WORD PTR [DATE] ;THIS ONE IS SAME AS BELOW;BOTH LOADS CONTENTS OF DATE
MOV	DX,WORD PTR DATE
LEA	DX,[DATE]  ;THIS WORKS  ,THIS ALSO WORKS LEA DX,DATE
MOV	AH,9H
INT	21H

MOV	AX,04H
MOV	DX,AX      ;THIS WORKS AS LONG AS DATE IS AT 4THBYTE IN DS
MOV	AH,9H
INT	21H

CALL	SET2
MOV	CX,[BX]    ;ONLY BX OR INDEX REGISTER CAN BE USED FOR INDIRECT
LEA	CX,[BX]    ;THIS ONE IS SAME AS BELOW,;LOAD THE ADDRESS OF CONTENTS OF ADDRESS:1234H,WHICH IS THE ADDRESS ITSELF
MOV	CX,BX
;MOV	AX,[DX]         ;ERROR
;MOV	CX,[DX] 	;ERROR		;ADDRESSING, OTHERS WILL GIVE ERROR

;;;;;;;;;;;;;VERY INPORTANT CONCEPT BELOW
XOR	AX,AX
LEA	AX,A3
MOV	A2,AX
MOV	DX,[A2]      ;THIS DOESNT WORD ALSO, THE CONTENTS OF A2 ARE LOADED RATHER THAN CONTENTS OF DS:A2
;MOV	DX,BYTE PTR [A2]
;IT IS REASONABLE, WHAT THIS STATEMENT EVALUATES TO IS MOV DX,[CONTENTS OF A2], BLAH BLAH
MOV	AH,09H
INT	21H

MOV	DX,[04H] ;THIS DOESNT WORK TOO TURBO ASSEMBLER GIVE WARNING
MOV	AH,09H     ;[04] IS TAKEN AS IMMEDIATE RATHER THAN DS:04H,THUS STRING PRINTS
INT	21H
;;;;;;;;;;;;;;;;;;;;;;;;;;;32BIT CONCEPTS;;;;;;;;;;;;;;;;;;;;;;;

;MOV	AX,[CX]  ;THIS GENERATES ERROR ,BELOW DOESNT
MOV	AX,[ECX]  ;THIS WORKS SHOWS THAT IN 386 MODE [] INDEXING DOES WORKS
                  ;ASSEMBLER TAKES VALUE FROM DS:1234
                  
MOV	EDX,[04H]     ;THIS DOESNT WORK,EDX DOESNT GET DS:04
MOV	AH,09H
INT	21H                            

XOR	EAX,EAX
LEA	EAX,A3
MOV	A2,AX
MOVZX	EDX,[A2] ;THIS DOESNT WORK
MOV	AH,9H
INT	21H

CALL 	SET3
MOV	EAX,[EBX+ECX]     ;THIS LOADS DS:(EBX+ECX) INTO EAX
XOR	EAX,EAX
LEA	EAX,[EBX+ECX]     ;THIS SIMPLY COPIES THE VALUES OF EBX+ECX INTO EAX
;THE ABOVE STATEMENTS ARE LOGICAL AND REASONABLE
;MOV     EAX,[EBX+ECX] , THE [20] MEANS DS:20 AND IT EVALUATES
;BUT IN NEXT STATEMENT ASSEMBLER HAS NO WAY TO FIND OUT THE ADDRESS OF [20]
;NEITHER THERE EXISTS A ADDRESS OF ANY IMMEDIATE VALUE, 
;IT MEANS LOAD ADDRESS OF CONTENTS OF ADDRESS :20, WHICH IS THE ADDRESS ITSELF:20


;;;;;;;;;;;;;;;;;;;
XOR	EAX,EAX
MOV	[EAX],4H        ;THIS WORKS, AGAIN REGISTER REFERS TO DS:EAX


.EXIT

SET2:
MOV	AX,1234H
MOV	BX,1234H
MOV	CX,1234H
MOV	DX,1234H
RET

SET3:
MOV	EBX,10H
MOV	ECX,10H
RET
END START

;CONCLUSION INDIRECT ADDRESSING IN 386 WORKS WITH ALL THE REGISTERS BUT NOT WITH VARIABLES AND 
;IMMEDIATE VALUES